

* Generic mud stuff: game rules independant



server : main stub, arranges startup
listener: spawn script (login)

login : get credentials or creates new user, start user, run terminal
terminal: fork reception child, wait for incoming messages. Handle interaction
with user. runs terminal mode.

mud_user : user management (not to be confused with player character)

  * terminal crash: have user wait ?

* Game stuff:

character: handles character-related stuff

combat: combat referee. receives initial poke states, handle combat commands
and dispatch combat, reply with events.

  * in case of combat crash: rollback poke status :)



World model:

  Graph of nodes (cities) interconnected with roads.
  within node: 
  	look -> see description and exits ("safe" and "travel")

  random encounters during travel. After each encounter, offer to continue,
  back off or use an object.


User interaction:

  - inventory 
  - team
  - world: encounters, pvp

Combat actions:

     - switch
     - attack
     - flee


  Monster : attack list, base stats, level, xp, health, statusflags
  Attack: type, power, precision


Modules:

 Rules/behaviours:

  elements: element rules
  monsters: list of base monsters
  combat:   combat round rules




Command reference:

   - inventory
   - use
   - examine <poke>
   - say (.)
   - tell (;)
   - group (:) ?
   - attack


